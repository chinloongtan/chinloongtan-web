{"pageProps":{"post":{"content":"\n\nPM2 is a very handy tool to keep your node.js application online. Here's a list of commands that are essential for deployment.\n\n#### Commands\n\n1. `pm2 start --name=web yarn --start` or `pm2 start --name=web --interpreter=bash yarn -- start`\n\nStart your application using `yarn start` with `pm2` and assign a name `web` to the application.\n`--name` is useful for multiple applications in the same server. For example, backend server and web applications.\n\n`--interpreter=bash` if your terminal should run with bash.\n\n<br />\n\n2. `pm2 delete web` or `pm2 delete all`\n\nRemove the process that is running the `web` application, if you assign a name previously. Or otherwise, delete with process id is possible as well.\n\n<br />\n\n3. `pm2 list` or `pm2 status`\n\nShow list of running processes managed by `pm2`.\n\n<br />\n\n\n4. `pm2 logs` or `pm2 logs web`\n\nRetrieve logs of running processes.\n\n<br />\n\n5. `pm2 flush`\n\nRemove currently logged output in log files.\n\n<br />\n\n\n\n#### Config file\n\nIf you have multiple applications to manage, it is recommended to use pm2 config file to manage the config of each application.\n\nIn parent directory:\n\nRun `pm2 ecosystem`\n\nto create a config file, Ecosystem File.\n\nA `ecosystem.config.js` file will be generated.\n\nHere's a sample config file I used for my side project.\n\n```\nmodule.exports = {\n  apps: [\n    {\n      name: 'web',\n      script: 'yarn',\n      args: 'start',\n      cwd: './myproject-web',\n      interpreter: 'bash',\n      instances: 1,\n      env_production: {\n        NODE_ENV: 'production',\n        PORT: 3000,\n      },\n    },\n    {\n      name: 'api',\n      script: 'yarn',\n      args: 'start',\n      cwd: './myproject-backend',\n      interpreter: 'bash',\n      instances: 1,\n      env_production: {\n        NODE_ENV: 'production',\n        PORT: 5000,\n      },\n    }\n  ],\n};\n```\n\nThat's all! Hope it helps.\n\nCheers.","frontmatter":{"path":"/blog/pm2-commands-nodejs-backend","date":"2022-01-10T17:06:00.000Z","title":"PM2 commands for your node.js backend","excerpt":"Essentials for deployment","tags":["node.js"]},"fullPath":"/Users/chinloong/makespace/chinloongtan-web/src/content/blog/2022/01/10-pm2-commands/index.md","timeToRead":2}},"__N_SSG":true}