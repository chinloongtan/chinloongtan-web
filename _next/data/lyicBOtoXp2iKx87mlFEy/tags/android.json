{"pageProps":{"posts":[{"slug":"android-accessing-cached-image-dir","frontmatter":{"path":"/blog/android-accessing-cached-image-dir","date":"2020-07-26T12:49:00.962Z","title":"Access to android files in cache directory","excerpt":"Using adb cli","tags":["react-native","android"]},"content":"\nYou take a picture from your app, and get back an uri in return.\n\nThen you proceed to upload the photo to server. End of story.\n\nAs a developer, you know that's not always the case, sometimes it's a bit more complicated, you take a snapshot from within the app,\nand realized that it returns black image.\n\nSo you want to debug, and without uploading to server, you can't access to the file,\nto take a look at the state of the image, whether your code changes has fixed the issue or not.\n\nOr you want to manipulate the image before uploading.\n\nFor whatever reason, you want to access to the file in cache.\n\nAfter few failed attempts to get it via tools like `Android File Transfer` and others\nthat can access to the Android file system.\n\nI found the solution with `adb` cli, and here is how to do it, from your Android device.\n\n\n```\nadb shell \"run-as com.yourapp.bundle cat '/data/user/0/com.yourapp.bundle/cache/ReactNative-image1215816883788.jpg' > '/sdcard/DCIM/ReactNative-image1215816883788.jpg'\"\n\nadb pull \"/sdcard/DCIM/ReactNative-image1215816883788.jpg\"\n\n```\n\nThat's it!\n\nNow, check your current directory for the file `ReactNative-image1215816883788.jpg`\n","fullPath":"/Users/chinloong/makespace/chinloongtan-web/src/content/blog/2020/07/26-android-access-to-cached-image-dir/index.md","timeToRead":1}],"totalCount":1,"tag":"android"},"__N_SSG":true}