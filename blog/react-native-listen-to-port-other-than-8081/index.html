<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/><link rel="shortcut icon" href="/assets/favicon.png"/><meta name="keywords" content="react native, experienced, developer"/><meta name="title" content="Chin Loong Tan - React Native Listen to Port Other Than 8081"/><meta name="description" content="A different approach using RCT_METRO_PORT"/><meta name="next-head-count" content="9"/><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/35ffbb7db43c57ce.css" as="style"/><link rel="stylesheet" href="/_next/static/css/35ffbb7db43c57ce.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-36d12a75f0098f30.js" defer=""></script><script src="/_next/static/chunks/framework-36098b990598bc0c.js" defer=""></script><script src="/_next/static/chunks/main-a3243aca410ca0a4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4d8799c859bbd476.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4d59f40a6e1b3add.js" defer=""></script><script src="/_next/static/chunks/143-bce4362c624c1079.js" defer=""></script><script src="/_next/static/chunks/214-e851ec31a44ce79b.js" defer=""></script><script src="/_next/static/chunks/618-75feec51ac5fbb78.js" defer=""></script><script src="/_next/static/chunks/675-e08c64594a2462bd.js" defer=""></script><script src="/_next/static/chunks/993-684785ffadc436d4.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-9799aeabd12ad7a8.js" defer=""></script><script src="/_next/static/EgoxhrAFy68DXvEZQA3GU/_buildManifest.js" defer=""></script><script src="/_next/static/EgoxhrAFy68DXvEZQA3GU/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css?family=Raleway:300,400">@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCIPrc.woff) format('woff')}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVvaorCIPrc.woff) format('woff')}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCAIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCkIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCIIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCMIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyC0IT4ttDfA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCAIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCkIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCIIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCMIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyC0IT4ttDfA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div class="blog-post-container content"><div class="custom-nav"><style data-emotion="css k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="MuiBox-root css-k008qs"><style data-emotion="css 13x2oq7">.css-13x2oq7{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;background-color:#1976d2;color:#fff;}@media print{.css-13x2oq7{position:absolute;}}</style><style data-emotion="css 5poeop">.css-5poeop{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;background-color:#1976d2;color:#fff;}@media print{.css-5poeop{position:absolute;}}</style><nav class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation4 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionFixed mui-fixed css-5poeop" style="background-color:white"><style data-emotion="css i6s8oy">.css-i6s8oy{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.css-i6s8oy{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.css-i6s8oy{min-height:48px;}}}@media (min-width:600px){.css-i6s8oy{min-height:64px;}}</style><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-i6s8oy"><a href="/blog/"><style data-emotion="css er9axy">.css-er9axy{text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;overflow:visible;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;margin-left:-12px;color:black;}.css-er9axy:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.css-er9axy:hover{background-color:transparent;}}.css-er9axy.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}</style><style data-emotion="css zo9a81">.css-zo9a81{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;overflow:visible;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;margin-left:-12px;color:black;}.css-zo9a81::-moz-focus-inner{border-style:none;}.css-zo9a81.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-zo9a81{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-zo9a81:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.css-zo9a81:hover{background-color:transparent;}}.css-zo9a81.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}</style><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-edgeStart MuiIconButton-sizeMedium css-zo9a81" tabindex="0" type="button" aria-label="back"><style data-emotion="css vubbuv">.css-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ArrowBackIcon"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></button></a><style data-emotion="css 13ge1hf">.css-13ge1hf{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:1.25rem;line-height:1.6;letter-spacing:0.0075em;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}@media (min-width:600px){.css-13ge1hf{display:block;}}</style><div class="MuiTypography-root MuiTypography-h6 css-13ge1hf"><a style="color:black;font-family:Raleway;text-decoration:none" href="/blog/">BLOG</a></div></div></nav><nav class="MuiBox-root css-0"><style data-emotion="css 12acf6p">.css-12acf6p{z-index:1200;}@media (min-width:0px){.css-12acf6p{display:block;}}@media (min-width:600px){.css-12acf6p{display:none;}}.css-12acf6p .MuiDrawer-paper{box-sizing:border-box;width:240px;}</style></nav></div></div><div class="blog-post col-md-8 offset-md-2"><h2>React Native Listen to Port Other Than 8081</h2><h6 style="color:#576366">January 17, 2022</h6><h6 style="color:#576366">A different approach using RCT_METRO_PORT</h6><div style="flex-direction:row;display:flex;margin-top:10px;font-size:14px;flex-wrap:wrap"><a style="margin-right:10px;background-color:rgba(72, 52, 212, 0.3);padding:5px;padding-left:8px;padding-right:8px;border-radius:6px;font-weight:bold;font-family:Raleway;text-decoration:none;color:#4834d4" href="/tags/react-native/">react-native<!-- --> </a></div><hr/><p>After trying out different solutions attempted to listen to different port other than 8081 for react-native metro bundler.
Finally I have managed to achieve this <strong>WITHOUT</strong> the hassle of editing files such as:</p>
<pre><code class="undefined hljs"><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RCTBridgeDelegate</span>.</span></span>h
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RTCDefines</span>.</span></span>h
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RCTInspectorDevServerHelper</span>.</span></span>m
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RCTDevMenu</span>.</span></span>m
</code></pre>
<p>While this approach works, the issue with it is the changes get reset after running <code style="background-color:rgba(0,0,0,.04);padding-top:3px;padding-bottom:3px">pod install</code>.</p>
<p>So after reading alot materials, with some improvisation, I came up with the solution using <code style="background-color:rgba(0,0,0,.04);padding-top:3px;padding-bottom:3px">Podfile</code>.</p>
<br/>
<h4>Podfile</h4>
<pre><code class="undefined hljs">post_install <span class="hljs-keyword">do</span> |installer|
  react_native_post_install(installer)
  __apply_Xcode_12_5_M1_post_install_workaround(installer)

  installer.pods_project.targets.each <span class="hljs-keyword">do</span> |target|
    <span class="hljs-keyword">if</span> target.name == <span class="hljs-string">&#x27;React-Core&#x27;</span>
      target.build_configurations.each <span class="hljs-keyword">do</span> |<span class="hljs-built_in">config</span>|
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">config</span>.name == <span class="hljs-string">&#x27;Debug&#x27;</span>
          <span class="hljs-built_in">config</span>.build_settings[<span class="hljs-string">&#x27;GCC_PREPROCESSOR_DEFINITIONS&#x27;</span>] ||= [<span class="hljs-string">&#x27;$(inherited)&#x27;</span>]
          <span class="hljs-built_in">config</span>.build_settings[<span class="hljs-string">&#x27;GCC_PREPROCESSOR_DEFINITIONS&#x27;</span>] = <span class="hljs-built_in">config</span>.build_settings[<span class="hljs-string">&#x27;GCC_PREPROCESSOR_DEFINITIONS&#x27;</span>] + [<span class="hljs-string">&#x27;RCT_METRO_PORT=8089&#x27;</span>]
        <span class="hljs-keyword">end</span>
      <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<br/>
<h4>Metro server</h4>
<p><code style="background-color:rgba(0,0,0,.04);padding-top:3px;padding-bottom:3px">npx react-native start --port=8089</code></p>
<br/>
<p>That&#x27;s it! Now, run <code style="background-color:rgba(0,0,0,.04);padding-top:3px;padding-bottom:3px">pod install</code> and run the app and it will be listening to port <code style="background-color:rgba(0,0,0,.04);padding-top:3px;padding-bottom:3px">8089</code>.</p>
<p>For Android, change the dev server setting from your device and it is reload the app. This part will not be covered in this article because there are alot of online resources that works perfectly.</p>
<p>Hope it helps.</p>
<p>Cheers.</p></div><footer class=""><div class="container"><h4 class="">Contact me via:</h4><a href="https://www.linkedin.com/in/chinloongtan" target="_blank" rel="noopener noreferrer" style="color:white"><span style="color:white;margin-right:15px;margin-top:15px;margin-bottom:15px" aria-hidden="true" class="fa fa-linkedin-square fa-2x"></span>https://www.linkedin.com/in/chinloongtan</a><div class="" style="margin-bottom:0;color:white"><a href="mailto:me@chinloongtan.com?body=Hi Chin Loong,
" style="color:white"><span style="color:white;margin-right:10px;margin-top:15px;margin-bottom:15px" aria-hidden="true" class="fa fa-envelope-open-o fa-2x"></span>me@chinloongtan.com</a></div></div><div class="container"><h4 class="">Or Buy Me A Coffee:</h4><a href="https://www.buymeacoffee.com/chinloongtan" target="_blank" rel="noopener noreferrer" style="color:white"><span style="color:white;margin-right:15px;margin-top:15px;margin-bottom:15px" aria-hidden="true" class="fa fa-coffee fa-2x"></span>https://www.buymeacoffee.com/chinloongtan</a></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"content":"\nAfter trying out different solutions attempted to listen to different port other than 8081 for react-native metro bundler.\nFinally I have managed to achieve this **WITHOUT** the hassle of editing files such as:\n\n```\nRCTBridgeDelegate.h\nRTCDefines.h\nRCTInspectorDevServerHelper.m\nRCTDevMenu.m\n```\n\nWhile this approach works, the issue with it is the changes get reset after running `pod install`.\n\nSo after reading alot materials, with some improvisation, I came up with the solution using `Podfile`.\n\n\u003cbr /\u003e\n\n#### Podfile\n\n```\npost_install do |installer|\n  react_native_post_install(installer)\n  __apply_Xcode_12_5_M1_post_install_workaround(installer)\n\n  installer.pods_project.targets.each do |target|\n    if target.name == 'React-Core'\n      target.build_configurations.each do |config|\n        if config.name == 'Debug'\n          config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] ||= ['$(inherited)']\n          config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] = config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] + ['RCT_METRO_PORT=8089']\n        end\n      end\n    end\n  end\nend\n```\n\n\u003cbr /\u003e\n\n#### Metro server\n\n`npx react-native start --port=8089`\n\n\u003cbr /\u003e\n\nThat's it! Now, run `pod install` and run the app and it will be listening to port `8089`.\n\nFor Android, change the dev server setting from your device and it is reload the app. This part will not be covered in this article because there are alot of online resources that works perfectly.\n\nHope it helps.\n\nCheers.","frontmatter":{"path":"/blog/react-native-listen-to-port-other-than-8081","date":"2022-01-17T15:33:00.000Z","title":"React Native Listen to Port Other Than 8081","excerpt":"A different approach using RCT_METRO_PORT","tags":["react-native"]},"fullPath":"/Users/chinloong/makespace/chinloongtan-web/src/content/blog/2022/01/17-react-native-metro-port/index.md","timeToRead":1}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"react-native-listen-to-port-other-than-8081"},"buildId":"EgoxhrAFy68DXvEZQA3GU","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>