<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/assets/favicon.png"/><meta name="keywords" content="react native, experienced, developer"/><title>Chin Loong Tan - React Native Listen to Port Other Than 8081</title><meta name="title" content="Chin Loong Tan - React Native Listen to Port Other Than 8081"/><meta name="description" content="A different approach using RCT_METRO_PORT"/><meta name="next-head-count" content="10"/><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/dd26c0b46f7af1ce.css" as="style"/><link rel="stylesheet" href="/_next/static/css/dd26c0b46f7af1ce.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-2d6c20b89449f43d.js" defer=""></script><script src="/_next/static/chunks/framework-36098b990598bc0c.js" defer=""></script><script src="/_next/static/chunks/main-a3243aca410ca0a4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-3d25e7564d07c461.js" defer=""></script><script src="/_next/static/chunks/922-2ccd6944ea003566.js" defer=""></script><script src="/_next/static/chunks/674-34b4b08e45e656fc.js" defer=""></script><script src="/_next/static/chunks/767-da6754476d7b0d7f.js" defer=""></script><script src="/_next/static/chunks/675-e08c64594a2462bd.js" defer=""></script><script src="/_next/static/chunks/822-7d44f87f2ae1b1f9.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-a6f175e41300f893.js" defer=""></script><script src="/_next/static/wbpD-UZBMTBZcxIx1zQvA/_buildManifest.js" defer=""></script><script src="/_next/static/wbpD-UZBMTBZcxIx1zQvA/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css?family=Raleway:400,500,700&display=swap">@font-face{font-family:'Raleway';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVvaorCIPrc.woff) format('woff')}@font-face{font-family:'Raleway';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVvoorCIPrc.woff) format('woff')}@font-face{font-family:'Raleway';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVs9pbCIPrc.woff) format('woff')}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCAIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCkIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCIIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCMIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyC0IT4ttDfA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Raleway';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCAIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Raleway';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCkIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Raleway';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCIIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Raleway';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCMIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Raleway';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyC0IT4ttDfA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Raleway';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCAIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Raleway';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCkIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Raleway';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCIIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Raleway';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyCMIT4ttDfCmxA.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Raleway';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/raleway/v28/1Ptug8zYS_SKggPNyC0IT4ttDfA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div class="blog-post-container content"><div class="p-4 md:px-16 md:py-8 lg:px-32"><h2 class="font-bold text-2xl">React Native Listen to Port Other Than 8081</h2><h6 class="text-md" style="color:#576366">17 January 2022</h6><h6 class="text-lg" style="color:#576366">A different approach using RCT_METRO_PORT</h6><div style="flex-direction:row;display:flex;margin-top:10px;font-size:14px;flex-wrap:wrap"><a style="margin-right:10px;background-color:rgba(72, 52, 212, 0.3);padding:5px;padding-left:8px;padding-right:8px;border-radius:6px;font-family:Raleway;text-decoration:none;color:#4834d4" class="font-medium" href="/tags/react-native/">react-native<!-- --> </a></div><hr class="my-8"/><div class="prose lg:prose-xl"><p>After trying out different solutions attempted to listen to different port other than 8081 for react-native metro bundler.
Finally I have managed to achieve this <strong>WITHOUT</strong> the hassle of editing files such as:</p>
<pre><code class="undefined hljs"><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RCTBridgeDelegate</span>.</span></span>h
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RTCDefines</span>.</span></span>h
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RCTInspectorDevServerHelper</span>.</span></span>m
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RCTDevMenu</span>.</span></span>m
</code></pre>
<p>While this approach works, the issue with it is the changes get reset after running <code style="background-color:rgba(0,0,0,.04);padding-top:3px;padding-bottom:3px">pod install</code>.</p>
<p>So after reading alot materials, with some improvisation, I came up with the solution using <code style="background-color:rgba(0,0,0,.04);padding-top:3px;padding-bottom:3px">Podfile</code>.</p>
<br/>
<h4>Podfile</h4>
<pre><code class="undefined hljs">post_install <span class="hljs-keyword">do</span> |installer|
  react_native_post_install(installer)
  __apply_Xcode_12_5_M1_post_install_workaround(installer)

  installer.pods_project.targets.each <span class="hljs-keyword">do</span> |target|
    <span class="hljs-keyword">if</span> target.name == <span class="hljs-string">&#x27;React-Core&#x27;</span>
      target.build_configurations.each <span class="hljs-keyword">do</span> |<span class="hljs-built_in">config</span>|
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">config</span>.name == <span class="hljs-string">&#x27;Debug&#x27;</span>
          <span class="hljs-built_in">config</span>.build_settings[<span class="hljs-string">&#x27;GCC_PREPROCESSOR_DEFINITIONS&#x27;</span>] ||= [<span class="hljs-string">&#x27;$(inherited)&#x27;</span>]
          <span class="hljs-built_in">config</span>.build_settings[<span class="hljs-string">&#x27;GCC_PREPROCESSOR_DEFINITIONS&#x27;</span>] = <span class="hljs-built_in">config</span>.build_settings[<span class="hljs-string">&#x27;GCC_PREPROCESSOR_DEFINITIONS&#x27;</span>] + [<span class="hljs-string">&#x27;RCT_METRO_PORT=8089&#x27;</span>]
        <span class="hljs-keyword">end</span>
      <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<br/>
<h4>Metro server</h4>
<p><code style="background-color:rgba(0,0,0,.04);padding-top:3px;padding-bottom:3px">npx react-native start --port=8089</code></p>
<br/>
<p>That&#x27;s it! Now, run <code style="background-color:rgba(0,0,0,.04);padding-top:3px;padding-bottom:3px">pod install</code> and run the app and it will be listening to port <code style="background-color:rgba(0,0,0,.04);padding-top:3px;padding-bottom:3px">8089</code>.</p>
<p>For Android, change the dev server setting from your device and it is reload the app. This part will not be covered in this article because there are alot of online resources that works perfectly.</p>
<p>Hope it helps.</p>
<p>Cheers.</p></div></div><footer class="p-4 md:p-8 lg:p-16"><div class=""><h4 class="text-xl mb-4">Contact me via:</h4><a href="https://www.linkedin.com/in/chinloongtan" target="_blank" rel="noopener noreferrer" style="color:white" class="flex items-center"><span style="width:45px;font-size:35px;color:white" aria-hidden="true" class="fa fa-linkedin-square"></span>chinloongtan</a><div class="" style="margin-bottom:0;color:white"><a href="mailto:me@chinloongtan.com?body=Hi Chin Loong,
" style="color:white" class="flex items-center"><span style="width:45px;font-size:30px;color:white;margin-top:15px;margin-bottom:15px" aria-hidden="true" class="fa fa-envelope-open-o"></span>me@chinloongtan.com</a></div></div><div class="mt-6 md:mt-16"><h4 class="text-xl mb-4">Or Buy Me A Coffee:</h4><a href="https://www.buymeacoffee.com/chinloongtan" target="_blank" rel="noopener noreferrer" style="color:white" class="flex items-center"><span style="width:45px;font-size:30px;color:white" aria-hidden="true" class="fa fa-coffee"></span>chinloongtan</a></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"content":"\nAfter trying out different solutions attempted to listen to different port other than 8081 for react-native metro bundler.\nFinally I have managed to achieve this **WITHOUT** the hassle of editing files such as:\n\n```\nRCTBridgeDelegate.h\nRTCDefines.h\nRCTInspectorDevServerHelper.m\nRCTDevMenu.m\n```\n\nWhile this approach works, the issue with it is the changes get reset after running `pod install`.\n\nSo after reading alot materials, with some improvisation, I came up with the solution using `Podfile`.\n\n\u003cbr /\u003e\n\n#### Podfile\n\n```\npost_install do |installer|\n  react_native_post_install(installer)\n  __apply_Xcode_12_5_M1_post_install_workaround(installer)\n\n  installer.pods_project.targets.each do |target|\n    if target.name == 'React-Core'\n      target.build_configurations.each do |config|\n        if config.name == 'Debug'\n          config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] ||= ['$(inherited)']\n          config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] = config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] + ['RCT_METRO_PORT=8089']\n        end\n      end\n    end\n  end\nend\n```\n\n\u003cbr /\u003e\n\n#### Metro server\n\n`npx react-native start --port=8089`\n\n\u003cbr /\u003e\n\nThat's it! Now, run `pod install` and run the app and it will be listening to port `8089`.\n\nFor Android, change the dev server setting from your device and it is reload the app. This part will not be covered in this article because there are alot of online resources that works perfectly.\n\nHope it helps.\n\nCheers.","frontmatter":{"path":"/blog/react-native-listen-to-port-other-than-8081","date":"2022-01-17T15:33:00.000Z","title":"React Native Listen to Port Other Than 8081","excerpt":"A different approach using RCT_METRO_PORT","tags":["react-native"]},"fullPath":"/Users/chinloong/makespace/chinloongtan-web/src/content/blog/2022/01/17-react-native-metro-port/index.md","timeToRead":1}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"react-native-listen-to-port-other-than-8081"},"buildId":"wbpD-UZBMTBZcxIx1zQvA","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>