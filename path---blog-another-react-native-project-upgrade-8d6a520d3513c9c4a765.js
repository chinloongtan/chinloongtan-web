webpackJsonp([0x7e0a73f2fe0a],{498:function(e,o){e.exports={data:{markdownRemark:{html:'<p>While the latest released version for <code>react-native</code> is <code>0.67.2</code>, I upgraded the project that I am working on to <code>0.66.4</code> instead.</p>\n<p>This is mainly due to some issues that I ran into that I decided not to spend too much time fixing it since <code>0.66.4</code> is sufficient for my use case.</p>\n<p>In this blog, I will be sharing some of the issues that I ran into and the solutions for them. Hopefully someone might find it useful, and I can also refer to this blog in the near future if I need to upgrade other projects.</p>\n<br />\n<h4>The issues</h4>\n<ol>\n<li>folly</li>\n</ol>\n<pre><code>duplicate symbol \'folly::detail::str_to_bool(folly::Range&#x3C;char const*>*)\' in:\n...\n...\n</code></pre>\n<p>In my case, I need to do</p>\n<pre><code>pod update\npod install\n</code></pre>\n<p>Normally you need to run <code>pod update</code> after update <code>react-native</code> version</p>\n<p>or in some cases</p>\n<pre><code>rm -rf Podfile.lock Pods/\npod install\n</code></pre>\n<p>if you thing you have messed up the <code>Pods</code> after upgrading to different <code>react-native</code> versions back and forth.</p>\n<ol start="2">\n<li><code>#&#x3C;WeakSet> could not be cloned</code></li>\n</ol>\n<p>Then you might get this issue for any library.</p>\n<pre><code>error node_modules/react-native-vector-icons/lib/create-icon-set.js: #&#x3C;WeakSet> could not be cloned.\n\nerror: node_modules/react-native-branch/src/branchUniversalObject.js: function (path) {\n          return fn.call(state, path, state);\n        } could not be cloned.\n BUNDLE  ./index.js\n</code></pre>\n<p>This has to do with <code>babel</code>, so you need to upgrade them as well.</p>\n<pre><code>yarn upgrade --dev @babel/core\nyarn upgrade --dev @babel/runtime\n</code></pre>\n<ol start="3">\n<li>Android project could not resolve dependencies</li>\n</ol>\n<p>Error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task \':app:lintVitalBetaRelease\'.\n> Could not resolve all artifacts for configuration \':app:betaDebugRuntimeClasspath\'.\n   > Could not resolve me.relex:photodraweeview:1.1.3.\n     Required by:\n         project :app > project :react-native-photo-view-ex\n      > Skipped due to earlier error\n   > Could not resolve org.webrtc:google-webrtc:1.0.+.\n     Required by:\n         project :app > project :react-native-twilio-video-webrtc\n      > Skipped due to earlier error\n   > Could not resolve com.yqritc:android-scalablevideoview:1.0.4.\n     Required by:\n         project :app > project :react-native-video\n      > Skipped due to earlier error\n   > Could not resolve com.getkeepsafe.relinker:relinker:1.3.1.\n     Required by:\n         project :app > project :react-native-twilio-video-webrtc > com.twilio:video-android:5.10.0\n      > Skipped due to earlier error\n</code></pre>\n<p>Another error:</p>\n<pre><code>Could not determine the dependencies of task \':app:lintVitalRelease\'.\n> Could not resolve all artifacts for configuration \':app:debugRuntimeClasspath\'.\n   > Could not find com.yqritc:android-scalablevideoview:1.0.4.\n     Searched in the following locations:\n       - https://repo.maven.apache.org/maven2/com/yqritc/android-scalablevideoview/1.0.4/android-scalablevideoview-1.0.4.pom\n</code></pre>\n<p>This is due to removal of the line <code>jcenter()</code> in <code>android/build.gradle</code>. Moving forward, JCenter will not be maintained.</p>\n<p>So it is recommended to remove the depencencies to the repository.</p>\n<p><a href="https://reactnative.dev/blog/2021/08/17/version-065#notable-dependency-version-updates-and-gotchas">Read more about the announcement here.</a></p>\n<p>At the meantime, we have libraries that depends on JCenter and it\'s going to take time for maintainers to update the libraries.</p>\n<p>So we can do this for now for the dependencies we need.</p>\n<pre><code>        jcenter() {\n            content {\n                includeModule("me.relex", "photodraweeview") // Could not resolve me.relex:photodraweeview:1.1.3.\n                includeModule("org.webrtc", "google-webrtc") // Could not resolve org.webrtc:google-webrtc:1.0.+.\n                includeModule("com.yqritc", "android-scalablevideoview") // Could not resolve com.yqritc:android-scalablevideoview:1.0.4.\n                includeModule("com.getkeepsafe.relinker", "relinker") // Could not resolve com.getkeepsafe.relinker:relinker:1.3.1.\n            }\n        }\n</code></pre>\n<p>So now you get the idea of using <code>includeModule</code>.</p>\n<p>That\'s all for the issues.</p>\n<p>Hope that saves your precious time!</p>\n<p>Cheers.</p>',frontmatter:{date:"February 08, 2022",path:"/blog/another-react-native-project-upgrade",title:"Another react-native project upgrade",excerpt:"To 0.66.4",tags:["react-native"]}}},pathContext:{}}}});
//# sourceMappingURL=path---blog-another-react-native-project-upgrade-8d6a520d3513c9c4a765.js.map